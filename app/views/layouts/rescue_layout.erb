<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Action Controller: Exception caught</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

      <%= stylesheet_link_tag 'custom/home' %>
      <%= stylesheet_link_tag 'plugins/popup' %>
      <link rel="shortcut icon" href="/assets/favicon.png" type="image/png" />
      <link rel="icon" href="/assets/favicon.png" type="image/png" />
  <style>
    body { background-color: #8E4300; color: #333; /*max-width: 100% !important;*/ }
    #topbar{
      margin:0 !important;
    }
    #maincontents{
      margin: 0;
      background: #fff;
      border-radius: 9px 9px 0 0 ;
      border: none !important;
    }

    body, p, ol, ul, td {
      font-family: verdana, arial, helvetica, sans-serif;
      font-size:   13px;
      line-height: 18px;
    }

    pre {
      background-color: #eee;
      padding: 10px;
      font-size: 11px;
      overflow: auto;
    }

    a { color: #000; }
    a:visited { color: #666; }
    a:hover { color: #fff; background-color:#000; }

       nav.sidebar {
        background: #d3d3da;
        border-top: solid 3px #a33;
        border-bottom: solid 3px #a33;
        border-radius: 4px;
        box-shadow: 0 0 6px rgba(0, 0, 0, 0.2), inset 0 0 0 1px rgba(0, 0, 0, 0.1);
    }

    header.exception {
      padding: 18px 20px;
      height: 59px;
      min-height: 59px;
      overflow: hidden;
      background-color: #383838;
      color: #aaa;
      text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3);
      font-weight: 200;
      box-shadow: inset 0 -5px 3px -3px rgba(0, 0, 0, 0.05), inset 0 -1px 0 rgba(0, 0, 0, 0.05);
      -webkit-text-smoothing: antialiased;
        border-radius: 0 0 10px 10px;
        margin-bottom: 13px;
    }

    header .logo{
      margin-bottom: 18px;
      float: right;
      width: 150px;
      background: #FFF;
      padding: 0 10px;
      border-radius: 7px;
    }

    header.exception h2, header.exception p {
      line-height: 1.4em;
      overflow: hidden;
      white-space: pre;
      text-overflow: ellipsis;
    }
    header.exception h2 {
      font-weight: 200;
      font-size: 11pt;
    }
    header.exception h2 strong {
      font-weight: 700;
      color: #d55;
    }
    header.exception h2, header.exception p {
      line-height: 1.4em;
      overflow: hidden;
      white-space: pre;
      text-overflow: ellipsis;
    }
    header.exception p {
      color: #744;
    }
    header.exception p {
      font-weight: 200;
      font-size: 20pt;
      color: #FFF;
    }

    .btn {
      background: #3498db;
      background-image: -webkit-linear-gradient(top, #3498db, #2980b9);
      background-image: -moz-linear-gradient(top, #3498db, #2980b9);
      background-image: -ms-linear-gradient(top, #3498db, #2980b9);
      background-image: -o-linear-gradient(top, #3498db, #2980b9);
      background-image: linear-gradient(to bottom, #3498db, #2980b9);
      -webkit-border-radius: 12;
      -moz-border-radius: 12;
      border-radius: 12px;
      font-family: Arial;
      color: #ffffff;
      font-size: 20px;
      padding: 10px 20px 10px 20px;
      text-decoration: none;
    }

    .btn:hover {
      background: #3ca8fa;
      background-image: -webkit-linear-gradient(top, #3ca8fa, #3476d9);
      background-image: -moz-linear-gradient(top, #3ca8fa, #3476d9);
      background-image: -ms-linear-gradient(top, #3ca8fa, #3476d9);
      background-image: -o-linear-gradient(top, #3ca8fa, #3476d9);
      background-image: linear-gradient(to bottom, #3ca8fa, #3476d9);
      text-decoration: none;
    }
    .btn:visited{color: white;}
  </style>
</head>
<body>


<div class="top">
    <header class="exception">
      <div style="display: inline-block; width: 50%">
        <h2><strong>Debug information for Supporters</strong></h2>
        <p><%=h @exception.message %></p>
      </div>
        <div id="topbar">
          <div class="logo">
            <%= image_tag 'web_logo_small.png', class: 'imageBorder', width: 150, height: 34, alt: 'ICanLocalize', style: '', border: 0 %>
          </div>
          <div style='clear: both;'>
            <% if @user %>
              <span><%= _('Logged in as') %> <strong><%= @user.full_name %></strong> &nbsp;</span>
              <%= form_tag({:controller => :login, :action => :logout}, {:style=>'display: inline;'}) do %>
                <%= submit_tag( "Log out", :disable_with=>'Logging out...') %>
              <% end %>
            <% end %>
          </div>
        </div>
    </header>

</div>

  <div style="clear:both;"></div>
  
  <div id="maincontents">
    <h1>Error intercepted!</h1>

    <p>This should not happen but <b>Don't worry!</b>. You are seeing this error because you are a supporter.</p> 

    <p>This page includes technical information about the error. You can create a YT ticket with this error explaining:</p>

    <ul>
      <li>What was you trying to do.</li>
      <li>What was you expecting.</li>
      <% if @user_click %>
        <li>Provide the user click reference url: 
          <strong><%= user_user_click_url(@user_click.user, @user_click.id) %></strong></li>
      <% end %>
      <li>Include all the information below.</li>
    </ul>
    
    <div style="text-align: center; margin: 30px 0;">
      <a class='btn' target="_blank" href="https://onthegosystems.myjetbrains.com/youtrack/newIssue?project=iclweb">Create Youtrack Ticket</a>
    </div>

      <%= yield %>
    
  </div>
</body>
</html>